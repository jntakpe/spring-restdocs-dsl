language: java
env:
  global:
  - secure: q8Fi2U3mrC56UE4wyyVTIZ94Xlh8mjNdaRgcwP6ehzfVMobfJSGOTWpKgcXc81eJfLwVFwcUu/74CTBxGCPRCoejTNHlIczEYO2vITz5skIjcgRIVVWUtlleIfx1JXeW3b7w5gPUJLzhaZqGldbuAcqq0JliQsE8b3LKtW9HaCpqmKKWlIj5ftt0nplwt1lWoRCbDtpRrUP3OohY+d+v/ryN2ihkW7de9jFeMNWbKPLpHgsGv+if4aFXLN3piCdEAQ847EtzsLC9+FE/xKo91nUd+5lmIUt+ClyYm5EM+g3e4yvKRyUj/T0IacUbTi6y1jFB/56IthbV4RIvZaqfuq1lVfP7XbFm5FBTsdPKNGqX5zHwPnnn97wKojgUBexaMpLPxomsThXsD95CYtlg8vu67WXOWSPmd5jKaw99nto9k609FIbzKLSaiEANkSFHCTGKMfP1tgMDM6w5yY4uRtLQpoScl0e9mfWXbj3kBoTCIO55ICryMqJx1D9cGKRUJmthciiwI7yfC7rfISCdmxWmDbLxOLjwdtr+USUdTEdVJphaTi47z2uMRYxi5a9kajE/h0U9dK0c13rehnTAdDhQNLqupPIWIDxexL6It6pDyAl7KyXFJcO+/PpYqR8L5yINbL2h2ocv2iBIj9w0NXFS+3IZ6WBo+ympQNM5+Jo=
  - secure: X3gJ46r7Ffw6rOAeVmVop0r3HOxBO5NWHAlfp4IAUtAQoM0zrCk5lIjH9ONYD3BmP0vfzCvKxgVflq9Lb1PPiouNfqskR9RFO8YgvPe2BuJyv07v60ZsBioMFhHZjCSUtFN0KsgcaVbThsrEQnPHWarjQBwweYC5476eUQNNSSQk+mK3d9+4zNn6LrCiVqiNsG7EM3YitfNDPEsxw+CKXw7XjZ2T96ubPdWmv7bCBhUQ3Vlt2XcyC+w48NYHuSiMoKBhHCZlTbWThUyrdSJ/GoaYFS5Qabrg+mAoHy2/8Nr6YIQU8ReN7ZWBTvuhBi5dCF+L2Nu4jIo4y0iBnn7JwcljHyy5dQB4G7tuARgzjPM0O5vfmV531tlSIUFzWDA/fajSA5kWUuzIoc1rDQhyNmo18BkHUMRy+NWY0oCQ7HJ94GoDGJvubKsSFa+WUKwBotu1N1MMe5uxs2+LlAJXY+jvUVnfKithSen4QatnGbj3tyW9rqgrr/jVvbPfZCAYcX8cu99/V7cJ7WIq6huxux1ER2VLlaunWj6VnTMt5WHCvcIRX6/qeZIJ4QdmTgOPLUE6oE/kynCXNjRuTpbS49BhEhN0XJJ5zo3iMqdw/Dig5sIcpPXB2Y3BPCshG7JbnJgtiF0Fe1sZb0nIuIMk9OsLfApDwENpNKdPFAOrOwk=
  - secure: AmM7raiWB5RZeCapf0GxQzqpNAWyMXAuMuhjJ4vgB5MtFosr7OMI3SEjo7/5Vp3/F0CIdYKpgb6nmozMN+BTQXxKYS6suVXwU9q3TGISJPHWWQMoNEEsdKmoglh8tlRouWXbdCVOVjH54mfaPw9H9MtS9cUgobsDEL+zZ0N8oVXBps6nLCkUJzu/nHdQtz8oWN+SFFmxbhlxnIIQB3rykLNwwqj+25fFEyj+a73LZ0CWT4VYDeXKfZJ6tUEMD83+9ceSHiAnPVpzMNUCPLX2QKs+YNJgBwaXIFhBpINm0B/jTEfomN+Xn1sXJiqr/7dvYdrpyB48cVyvGIyUSoYyz59GQQUBkOANDbXzTmLj4xy7ZVE4gf/TIulI3FwDw4NhcNF5Ea0KHyZMpOuJdoWxN6X7Bhjewe4+Ijusbev19pmw1+9sqKMZGLb+icQM5EydPkGnuLWipmZxh4auHXF09Txw0EyICroPgOE3qhCf2nu8bskB27VFl+xdWfSPjYEqVh4vyPLTCMI1vPCcuiyfZlOZklmgb75IEnF0XUiaaNdqDRxSXLwarUesPu5pRtLhssfjGkkTPpXdm26HVQ0kvvpFQOCqsGCAsCjW3OP4O5rlpGM8ocdCVs7C55f9s+nocZsnT924rZ6+KNjg5J4nnMaAltiA2vXIgUv7tWrVG2k=
  - secure: VvHKhxG2JgNtYvalBnnqKD439P95MpJE0J89JkHcEIsWr8Kx4pNlgN8XvU7AMbZBQggqRAC/4K50P8FP3Lh817LZdFeQob9OjEDa4jNR10tkBkowibGkwfMleSaXFHG/zZ67cYkDcoZSpt0XqjfGoACOfZI5FIQGesbr/eZ1aKb0mWtAMzQCvI5KZ38aOwjli0/7WWiOUn5cmcX1bbkrQm63bjmBbQuYhtbFOWjDLETDkhZ1WRVT1HlEHtZRhQEva8M6ZoTEKzh71c3jR9OUTylb+6sJWADw/XAh4ToFhgZ46xHlYXp4GArok8GnjRS2UeFzBW8swmA4cdOoCYybiJcFASMh3KEztjhbB1runekIH4k2lAQNyCoBE9QOxlxnT+50FfXG1mk7YD8ae4EfI8KxJy+GJYI/d78jmHLSbxUuFzzHnbyysqR+0eOdO+uq3O2HpeRXtYjQksl82Jg2CWyR1Dh9679bjzZPgMAF8lUciGSHC7e9abcQuJiW4cW3ozt1e05HTXQ5T86SsNUaOOJQX/pOOtiSsh2gWCviZ5p3dieMYwt3QVXEGmYrSy20C4v1Lc13EaxQzBSG1/uXTNd/59+w1Y5K1exbJnxNpyXRg6qwQqAOp9W5Hsw4KV9+auI6lVmbL9wHgH1AK7mLfXDBtbwVH5kcicBWXtNqxWc=
jdk:
- openjdk8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
install:
- "./travis/prepare-signing.sh $encrypted_3d4a70fea2f1_key $encrypted_3d4a70fea2f1_iv"
script:
- "./gradlew check --scan -s"
- "./gradlew publish --scan -s"
notifications:
  email: false
deploy:
  provider: releases
  api_key:
    secure: hKVD9/SBJJyeGp/ID13gbMTTZDknHlB9Q8Q6WgWOvoVUM6ADWjNiR4GT7eQXkOELihGTFTjEqgYsb2jgUJWpIyuOVw6hLJXCapNMxeQcmYlBEKIVQBtpvOPo2lVZJNnlBNFo7dk/rlhxgL2rEJMZ9ima5t86kvykRzkx5M7mrlaFyiTxnHYEAeNE4sT0dnPbUadaGPfokrU98VO9OLtg4n1LkaESrILkhB1GxtwfBRGGdGvKooYM3wxIB45T8205sIxee/hb09uneOtprUjgqFbzYSCE67E9ZlhVLHo2H4FJYgzJfnTYHH+paBkSkDanUccPbQL7b8+yeGzAxf3gVAJZHvQ0FwFu/0oRMQX4Pb1dpWHJLC5wA7mu8q1QDtpQq2yDp0jXDmMNWNdnZCaBlwSZgxDg7utiVf5QtNBU74j7xmOT1GWPp3uh2RZpbpel/dmVrG3T83LJ4n9U/V3LuW2Dj5cPq6F/wWvpPH7Uu4DXfubFLKF72w/0poEPFhl01ugnJCh6yurt73NBfiqJ5Tv+9gihpoud8Fo7YKcyhFVfzBO2cbbHrxDGat7FTOXzNjRWOrjXddDHNZcEd89dwhVIsiaL68JNnTbXsXTv0sLPQMcfAp2riaRz67Mxy07NTEHrWhV7cH+zIusF1HG56G4/W608Le2k3shVpcLDwrQ=
  file: "./build/libs/*.jar"
  skip_cleanup: true
  on:
    repo: jntakpe/spring-restdocs-dsl
    tags: true
